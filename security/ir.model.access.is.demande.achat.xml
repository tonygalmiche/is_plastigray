<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <!-- is.demande.achat.serie -->
        <record id="is_demande_achat_serie_brouillon_rule" model="ir.rule">
            <field name="name">Accès en modification à l'état 'Brouillon' par le demandeur</field>
            <field name="model_id" ref="model_is_demande_achat_serie"/>
            <field name="domain_force">[('state','=','brouillon'),('createur_id','=',user.id)]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
            <field eval="0" name="perm_unlink"/>
            <field eval="1" name="perm_write"/>
            <field eval="1" name="perm_read"/>
            <field eval="1" name="perm_create"/>
        </record>

        <record id="is_demande_achat_serie_transmis_achat_rule" model="ir.rule">
            <field name="name">Accès en modification à l'état 'Transmis achat' par l'acheteur</field>
            <field name="model_id" ref="model_is_demande_achat_serie"/>
            <field name="domain_force">[('state','=','transmis_achat'),('acheteur_id','=',user.id)]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
            <field eval="0" name="perm_unlink"/>
            <field eval="1" name="perm_write"/>
            <field eval="1" name="perm_read"/>
            <field eval="1" name="perm_create"/>
        </record>

        <record id="is_demande_achat_serie_transmis_achat_createur_rule" model="ir.rule">
            <field name="name">Accès en lecture seule à l'état 'Transmis achat' par le créateur</field>
            <field name="model_id" ref="model_is_demande_achat_serie"/>
            <field name="domain_force">[('state','=','transmis_achat'),('createur_id','=',user.id)]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
            <field eval="0" name="perm_unlink"/>
            <field eval="0" name="perm_write"/>
            <field eval="1" name="perm_read"/>
            <field eval="1" name="perm_create"/>
        </record>

        <record id="is_demande_achat_serie_solde_rule" model="ir.rule">
            <field name="name">Accès en lecture seule à l'état 'Soldé' pour tout le monde</field>
            <field name="model_id" ref="model_is_demande_achat_serie"/>
            <field name="domain_force">[('state','=','solde')]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
            <field eval="0" name="perm_unlink"/>
            <field eval="0" name="perm_write"/>
            <field eval="1" name="perm_read"/>
            <field eval="1" name="perm_create"/>
        </record>

        <record id="is_demande_achat_serie_annule_rule" model="ir.rule">
            <field name="name">Accès en lecture seule à l'état 'Annulé' pour tout le monde</field>
            <field name="model_id" ref="model_is_demande_achat_serie"/>
            <field name="domain_force">[('state','=','annule')]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
            <field eval="0" name="perm_unlink"/>
            <field eval="0" name="perm_write"/>
            <field eval="1" name="perm_read"/>
            <field eval="1" name="perm_create"/>
        </record>


<!--
        ('brouillon'     , 'Brouillon'),
        ('transmis_achat', 'Transmis achat'),
        ('solde'         , 'Soldé'),
        ('annule'        , 'Annulé'),
-->

    </data>
</openerp>
